\documentclass[12pt]{article}
 
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{fancyhdr}
\usepackage{fancyvrb}

\usepackage{hyperref}
% \pagestyle{fancy}
\usepackage{verbatim,color,lipsum}

\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}

 
\newenvironment{theorem}[2][Theorem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{lemma}[2][Lemma]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{exercise}[2][Exercise]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{problem}[2][Problem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{question}[2][Question]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{corollary}[2][Corollary]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
 
\begin{document}
 
\title{Lab 2: Reliable Transport Protocol}
\author{Duc Viet Le\\ 
CS536}
 
\maketitle
\noindent
\large{\textbf{The Alternating-bit-protocol version output}}
\normalsize

\begin{Verbatim}[frame=single, rulecolor=\color{green}, label=Input] 
-----  Stop and Wait Network Simulator Version 1.1 -------- 

Enter the number of messages to simulate: 15
Enter  packet loss probability [enter 0.0 for no loss]:.1
Enter packet corruption probability [0.0 for no corruption]:.3
Enter average time between messages from sender's layer5 [ > 0.0]:1500.0
Enter TRACE:2
\end{Verbatim}
\begin{Verbatim}[frame=single, rulecolor=\color{red}, label=Handle Corruption] 
EVENT time: 2805.861084,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
          TOLAYER3: packet being corrupted

EVENT time: 2811.326172,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 107, payload Zaaaaaaaaaaaaaaaaaaa
B: packet is corrupted.
B: sending NAK.

EVENT time: 2813.507812,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
\end{Verbatim}
\begin{verbatim}

EVENT time: 2815.528320,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 2819.995605,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

\end{verbatim}
\begin{Verbatim}[frame=single, rulecolor=\color{blue}, label=Handle Loss] 
EVENT time: 2833.507812,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
          TOLAYER3: packet being lost
EVENT time: 2853.507812,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
\end{Verbatim}

\begin{Verbatim}[frame=single, rulecolor=\color{cyan}, label=10 messages ACKed correctly]
EVENT time: 2862.936279,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
B: sending ACK.

EVENT time: 2870.399170,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0, #ACK received: 0

EVENT time: 5268.726562,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb

EVENT time: 5271.457031,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 5273.823242,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 5288.726562,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
          TOLAYER3: packet being lost

EVENT time: 5308.726562,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
          TOLAYER3: packet being lost

EVENT time: 5328.726562,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb

EVENT time: 5334.975586,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
B: sending ACK.

EVENT time: 5336.456055,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1, #ACK received: 1

EVENT time: 6945.276367,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 6951.637207,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 6965.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 6966.334961,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 6985.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 6990.550293,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 7005.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 7014.057617,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 7025.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being lost

EVENT time: 7045.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being corrupted

EVENT time: 7050.095703,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload Zccccccccccccccccccc
B: packet is corrupted.
B: sending NAK.

EVENT time: 7053.757324,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being corrupted

EVENT time: 7062.667969,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload Zccccccccccccccccccc
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 7068.285645,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 7073.757324,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being corrupted

EVENT time: 7075.789062,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload Zccccccccccccccccccc
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 7083.532227,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 7093.757324,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 7100.448730,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 7105.921387,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 7113.757324,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc     

EVENT time: 7119.144043,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.

EVENT time: 7120.848145,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0, #ACK received: 2

EVENT time: 8557.933594,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 46, payload dddddddddddddddddddd  

EVENT time: 8565.891602,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 46, payload dddddddddddddddddddd
B: sending ACK.

EVENT time: 8570.284180,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1, #ACK received: 3

EVENT time: 8732.501953,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 27, payload eeeeeeeeeeeeeeeeeeee  

EVENT time: 8742.349609,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 27, payload eeeeeeeeeeeeeeeeeeee
B: sending ACK.

EVENT time: 8745.094727,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0, #ACK received: 4

EVENT time: 9638.583008,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 6, payload ffffffffffffffffffff   

EVENT time: 9645.198242,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 6, payload ffffffffffffffffffff
B: sending ACK.

EVENT time: 9648.504883,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1, #ACK received: 5

EVENT time: 11900.959961,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 243, payload gggggggggggggggggggg 
          TOLAYER3: packet being corrupted

EVENT time: 11902.473633,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload Zggggggggggggggggggg
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 11903.571289,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 11920.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg


EVENT time: 11923.109375,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 11924.693359,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 11940.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg


EVENT time: 11946.207031,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 11955.150391,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 11960.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg
          TOLAYER3: packet being corrupted

EVENT time: 11970.282227,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload Zggggggggggggggggggg
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 11973.278320,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 11980.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg
          TOLAYER3: packet being corrupted

EVENT time: 11982.109375,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: packet is corrupted.
B: sending NAK.

EVENT time: 11989.677734,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg

EVENT time: 11993.851562,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: sending ACK.

EVENT time: 12001.453125,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0, #ACK received: 6

EVENT time: 13654.051758,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 222, payload hhhhhhhhhhhhhhhhhhhh

EVENT time: 13658.952148,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 222, payload hhhhhhhhhhhhhhhhhhhh
B: sending ACK.

EVENT time: 13668.690430,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1, #ACK received: 7

EVENT time: 15411.281250,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii

EVENT time: 15417.223633,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 15431.281250,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii

EVENT time: 15438.112305,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii
B: sending ACK.

EVENT time: 15447.312500,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0, #ACK received: 8

EVENT time: 16185.201172,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 182, payload jjjjjjjjjjjjjjjjjjjj

EVENT time: 16191.740234,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 182, payload jjjjjjjjjjjjjjjjjjjj
B: sending ACK.

EVENT time: 16195.847656,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1, #ACK received: 9

EVENT time: 18080.335938,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 163, payload kkkkkkkkkkkkkkkkkkkk
          TOLAYER3: packet being corrupted

EVENT time: 18083.115234,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 163, payload Zkkkkkkkkkkkkkkkkkkk
B: packet is corrupted.
B: sending NAK.

EVENT time: 18090.875000,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 163, payload kkkkkkkkkkkkkkkkkkkk
          TOLAYER3: packet being lost

EVENT time: 18110.875000,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 163, payload kkkkkkkkkkkkkkkkkkkk
          TOLAYER3: packet being corrupted

EVENT time: 18118.267578,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 163, payload Zkkkkkkkkkkkkkkkkkkk
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 18120.685547,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 18130.875000,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 163, payload kkkkkkkkkkkkkkkkkkkk
          TOLAYER3: packet being corrupted

EVENT time: 18139.630859,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 163, payload Zkkkkkkkkkkkkkkkkkkk
B: packet is corrupted.
B: sending NAK.

EVENT time: 18142.144531,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 163, payload kkkkkkkkkkkkkkkkkkkk

EVENT time: 18144.007812,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 163, payload kkkkkkkkkkkkkkkkkkkk
B: sending ACK.

EVENT time: 18148.132812,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0, #ACK received: 10
\end{Verbatim}
\begin{verbatim}
....
....
....

EVENT time: 23096.050781,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 83, payload oooooooooooooooooooo

EVENT time: 23104.203125,  type: 2, fromlayer3  entity: 1
 Simulator terminated at time 23104.203125
 after sending 15 msgs from layer5
\end{verbatim}
\end{document}
