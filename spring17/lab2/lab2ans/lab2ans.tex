\documentclass[12pt]{article}
 
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{fancyhdr}
\usepackage{fancyvrb}

\usepackage{hyperref}
% \pagestyle{fancy}
\usepackage{verbatim,color,lipsum}

\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}

 
\newenvironment{theorem}[2][Theorem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{lemma}[2][Lemma]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{exercise}[2][Exercise]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{problem}[2][Problem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{question}[2][Question]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{corollary}[2][Corollary]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
 
\begin{document}
 
\title{Lab 2: Reliable Transport Protocol}
\author{Duc Viet Le\\ 
CS536}
 
\maketitle
\noindent
\large{\textbf{The Alternating-bit-protocol version}}
\normalsize

\begin{Verbatim}[frame=single, rulecolor=\color{green}, label=Input] 
-----  Stop and Wait Network Simulator Version 1.1 -------- 

Enter the number of messages to simulate: 10
Enter  packet loss probability [enter 0.0 for no loss]:0.1
Enter packet corruption probability [0.0 for no corruption]:0.3
Enter average time between messages from sender's layer5 [ > 0.0]:1500.0
Enter TRACE:2
\end{Verbatim}
\begin{Verbatim}[frame=single, rulecolor=\color{red}, label=Handle Corruption] 
EVENT time: 2805.861084,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
          TOLAYER3: packet being corrupted

EVENT time: 2811.326172,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 107, payload Zaaaaaaaaaaaaaaaaaaa
B: packet is corrupted.
B: sending NAK.

EVENT time: 2813.507812,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
\end{Verbatim}
\begin{verbatim}
EVENT time: 2815.528320,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 2819.995605,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 2913.507812,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
          TOLAYER3: packet being lost

EVENT time: 3013.507812,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa

EVENT time: 3022.936279,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 107, payload aaaaaaaaaaaaaaaaaaaa
B: sending ACK.

EVENT time: 3030.399170,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0

EVENT time: 5268.726562,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb

EVENT time: 5271.457031,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 5273.823242,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 5368.726562,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
          TOLAYER3: packet being lost
\end{verbatim}
\begin{Verbatim}[frame=single, rulecolor=\color{blue}, label=Handle Loss] 
EVENT time: 5468.726562,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
          TOLAYER3: packet being lost

EVENT time: 5568.726562,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb

EVENT time: 5574.975586,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 86, payload bbbbbbbbbbbbbbbbbbbb
B: sending ACK.
\end{Verbatim}
\begin{verbatim}
EVENT time: 5576.456055,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1

EVENT time: 6945.276367,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 6951.637207,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 7045.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 7046.334961,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 7145.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 7150.550293,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 7245.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 7254.057617,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 7345.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being lost

EVENT time: 7445.276367,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being corrupted

EVENT time: 7450.095703,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload Zccccccccccccccccccc
B: packet is corrupted.
B: sending NAK.

EVENT time: 7453.757324,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being corrupted

EVENT time: 7462.667969,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload Zccccccccccccccccccc
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 7468.285645,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 7553.757324,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc
          TOLAYER3: packet being corrupted

EVENT time: 7555.789062,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload Zccccccccccccccccccc
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 7563.532227,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 7653.757324,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc

EVENT time: 7660.448730,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 7665.921387,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 7753.757324,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 67, payload cccccccccccccccccccc	

EVENT time: 7759.144043,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 67, payload cccccccccccccccccccc
B: sending ACK.

EVENT time: 7760.848145,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0

EVENT time: 8557.933594,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 46, payload dddddddddddddddddddd	

EVENT time: 8565.891602,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 46, payload dddddddddddddddddddd
B: sending ACK.

EVENT time: 8570.284180,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1

EVENT time: 8732.501953,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 27, payload eeeeeeeeeeeeeeeeeeee	

EVENT time: 8742.349609,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 27, payload eeeeeeeeeeeeeeeeeeee
B: sending ACK.

EVENT time: 8745.094727,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0

EVENT time: 9638.583008,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 6, payload ffffffffffffffffffff	

EVENT time: 9645.198242,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 6, payload ffffffffffffffffffff
B: sending ACK.

EVENT time: 9648.504883,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1

EVENT time: 11900.959961,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 243, payload gggggggggggggggggggg	
          TOLAYER3: packet being corrupted

EVENT time: 11902.473633,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload Zggggggggggggggggggg
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 11903.571289,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 12000.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg


EVENT time: 12003.109375,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 12004.693359,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 12100.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg


EVENT time: 12106.207031,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: sending ACK.
          TOLAYER3: packet being corrupted

EVENT time: 12115.150391,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 12200.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg
          TOLAYER3: packet being corrupted

EVENT time: 12210.282227,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload Zggggggggggggggggggg
B: packet is corrupted.
B: sending NAK.
          TOLAYER3: packet being corrupted

EVENT time: 12213.278320,  type: 2, fromlayer3  entity: 0
A: ACK is corrupted

EVENT time: 12300.959961,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg
          TOLAYER3: packet being corrupted

EVENT time: 12302.109375,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: packet is corrupted.
B: sending NAK.

EVENT time: 12309.677734,  type: 2, fromlayer3  entity: 0
A: received NAK for packet# 0
A: resending packet# 0, checksum 243, payload gggggggggggggggggggg

EVENT time: 12313.851562,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 243, payload gggggggggggggggggggg
B: sending ACK.

EVENT time: 12321.453125,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0

EVENT time: 13654.051758,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 222, payload hhhhhhhhhhhhhhhhhhhh

EVENT time: 13658.952148,  type: 2, fromlayer3  entity: 1
B: received packet# 1, checksum 222, payload hhhhhhhhhhhhhhhhhhhh
B: sending ACK.

EVENT time: 13668.690430,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 1

EVENT time: 15411.281250,  type: 1, fromlayer5  entity: 0
A: sending packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii

EVENT time: 15417.223633,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii
B: sending ACK.
          TOLAYER3: packet being lost

EVENT time: 15511.281250,  type: 0, timerinterrupt   entity: 0
A: time out. 
A: resending packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii

EVENT time: 15518.112305,  type: 2, fromlayer3  entity: 1
B: received packet# 0, checksum 203, payload iiiiiiiiiiiiiiiiiiii
B: sending ACK.

EVENT time: 15527.312500,  type: 2, fromlayer3  entity: 0
A: received ACK for packet# 0

EVENT time: 16185.201172,  type: 1, fromlayer5  entity: 0
A: sending packet# 1, checksum 182, payload jjjjjjjjjjjjjjjjjjjj

EVENT time: 16191.740234,  type: 2, fromlayer3  entity: 1
 Simulator terminated at time 16191.740234
 after sending 10 msgs from layer5
\end{verbatim}
\large{\textbf{The Go-Back-N version}}
\normalsize


\end{document}
